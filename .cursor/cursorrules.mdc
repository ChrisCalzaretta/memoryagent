---
alwaysApply: true
---

# MemoryRouter - AI-Powered Intelligent Agent Orchestration

## ğŸš¨ CRITICAL - SINGLE ENTRY POINT

**MemoryRouter** is the **ONLY** MCP server exposed to Cursor. It uses **FunctionGemma AI** to intelligently orchestrate 44+ tools from MemoryAgent and CodingOrchestrator.

**ALWAYS use `execute_task` with natural language - the AI figures out everything else!**

---

## ğŸ§  How It Works

### Single Entry Point: `execute_task`
```javascript
execute_task({ request: "Find all authentication code and validate it for security issues" })
```

**Behind the scenes:**
1. FunctionGemma analyzes your natural language request
2. Creates an execution plan with the right tools
3. Executes tools from MemoryAgent & CodingOrchestrator
4. Returns complete results

**You don't need to know which tools exist - just describe what you want!**

---

## ğŸ“Š Tool Discovery by Category

MemoryRouter organizes **44+ tools** into **6 core categories**:

```javascript
list_available_tools()                         // All tools
list_available_tools({ category: "discovery" }) // ğŸ” Search & analyze
list_available_tools({ category: "generation" }) // ğŸš€ Code & design generation
list_available_tools({ category: "validation" }) // âœ… Quality & security
list_available_tools({ category: "planning" })   // ğŸ“‹ Planning & tasks
list_available_tools({ category: "knowledge" })  // ğŸ§  Learning & indexing
list_available_tools({ category: "management" }) // ğŸ“Š Status & control
```

### ğŸ” Discovery - Search, Find, Analyze
Find existing code and understand systems
- Search codebase semantically
- Analyze structure and dependencies
- Explain how features work
- Map system architecture

### ğŸš€ Generation - Create, Build, Design
Generate new code, features, and designs
- Create applications from scratch
- Build REST APIs and services
- Generate UI components
- Design brand systems

### âœ… Validation - Review, Check, Audit
Ensure quality and security
- Review code quality
- Check security vulnerabilities
- Validate best practices
- Audit compliance

### ğŸ“‹ Planning - Plan, Organize, Manage
Break down work and track progress
- Create execution plans
- Generate task breakdowns
- Manage todos and reminders
- Organize development strategy

### ğŸ§  Knowledge - Learn, Store, Index
Build and retrieve project knowledge
- Index workspace for search
- Store Q&A and decisions
- Learn from conversations
- Retrieve historical context

### ğŸ“Š Management - Status, Control, Monitor
Monitor and control operations
- Check task/job status
- Monitor running operations
- Control background jobs
- Cancel long-running tasks

---

## ğŸ¯ Example Use Cases

### Code Search & Understanding
```javascript
execute_task({ request: "Find all database query code" })
execute_task({ request: "Explain how authentication works" })
```

### Code Generation
```javascript
execute_task({ request: "Create a REST API endpoint for user management in Python" })
execute_task({ request: "Generate a React dashboard with charts" })
```

### Analysis & Validation
```javascript
execute_task({ request: "Analyze security vulnerabilities in this codebase" })
execute_task({ request: "Check code complexity and suggest refactoring" })
```

### Design & Branding
```javascript
execute_task({ request: "Create a brand system for my healthcare app" })
execute_task({ request: "Validate this UI code against brand guidelines" })
```

### Planning & Tasks
```javascript
execute_task({ request: "Create a plan for implementing user authentication" })
execute_task({ request: "Check status of all active coding tasks" })
```

---

## ğŸš€ Best Practices

### âœ… DO:
- Use natural language with `execute_task` - be specific
- Let the AI orchestrator choose the right tools
- Use `list_available_tools({ category: "..." })` to explore
- Trust the AI to create multi-step plans

### âŒ DON'T:
- Try to call MemoryAgent or CodingOrchestrator directly
- Manually orchestrate multiple tool calls
- Worry about which service a tool comes from

---

## ğŸ¯ Complex Workflow Examples

### Code Generation + Quality Checks
```javascript
execute_task({ 
  request: "Create a user authentication service in TypeScript with JWT, validate for security, and check complexity"
})
```

**MemoryRouter automatically:**
1. Generates authentication code
2. Validates for security issues
3. Checks code complexity
4. Returns complete workflow results

### Brand System + Validation
```javascript
execute_task({ 
  request: "Create a modern tech brand for 'CloudSync' and validate homepage HTML against guidelines"
})
```

**MemoryRouter automatically:**
1. Generates brand system
2. Validates HTML compliance
3. Returns brand tokens + validation report

### Smart Search + Refactoring Plan
```javascript
execute_task({ 
  request: "Find deprecated authentication patterns and create migration plan to modern approaches"
})
```

**MemoryRouter automatically:**
1. Finds deprecated patterns
2. Gets migration guidance
3. Creates actionable plan
4. Returns complete refactoring roadmap

---

## ğŸ§ª Multi-Language Support

**MemoryRouter supports ANY programming language:**
- Python, TypeScript, JavaScript, C#, Go, Rust, Java
- Ruby, PHP, Swift, Kotlin, Dart, SQL, HTML, CSS
- Shell scripts and more!

**Language is auto-detected** from your request or workspace context.

---

## ğŸ”’ Automatic Quality Enforcement

MemoryRouter enforces quality standards automatically:
- **Search Before Write**: Checks for existing code before generating
- **Multi-Agent Validation**: Code reviewed before delivery
- **Iterative Refinement**: Improves until quality score >= 8/10
- **Security Scanning**: Validates against vulnerabilities

### Quality Thresholds
- **9-10 (A)**: âœ… Ship it
- **8 (B)**: âœ… Good to go
- **7 (C)**: âš ï¸ Address before release
- **< 7**: âŒ Automatically retried

### Security Scores
- **10/10**: ğŸ”’ Perfect security
- **8-9/10**: âœ… Acceptable
- **< 8/10**: ğŸš¨ Must fix CRITICAL/HIGH issues

---

## ğŸ“ Learning & Evolution

MemoryRouter learns from every interaction:
- **Q&A Storage**: Remembers useful answers
- **Task Success Tracking**: Learns from successful approaches
- **Failure Analysis**: Avoids repeating mistakes
- **Pattern Evolution**: Improves code generation over time

---

## ğŸš¨ MANDATORY WORKFLOW

**For EVERY coding task:**

1. **Get Context**
   ```javascript
   execute_task({ request: "Get context for [your task]" })
   ```

2. **Search First**
   ```javascript
   execute_task({ request: "Search for existing [feature] code" })
   ```

3. **Execute Task**
   ```javascript
   execute_task({ request: "Create/modify/analyze [specific task]" })
   ```

4. **Validate & Store**
   ```javascript
   execute_task({ request: "Validate changes and store this successful approach" })
   ```

---

## ğŸ“ Configuration

**Service URLs:**
- **MemoryRouter**: `http://localhost:5010` (MCP entry point for Cursor)
- **MemoryAgent**: Internal at `http://memory-agent-server:5000`
- **CodingOrchestrator**: Internal at `http://memory-coding-orchestrator:5003`

**Only MemoryRouter is exposed to Cursor!**

---

## ğŸ¯ Summary

**ALWAYS use `execute_task` with natural language!**

The AI orchestrator (FunctionGemma) will:
âœ… Understand your intent
âœ… Create an optimal execution plan
âœ… Call the right tools in the right order
âœ… Return comprehensive results

**You focus on WHAT you want. MemoryRouter figures out HOW.**
