{"jsonrpc":"2.0","id":999,"result":{"tools":[{"name":"index_file","description":"Index a single code file into memory for semantic search and analysis","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"Path to the file (use /workspace/... for mounted files)"},"context":{"type":"string","description":"Optional context name for grouping (e.g., 'ProjectName')"}},"required":["path"]}},{"name":"index_directory","description":"Index an entire directory of code files recursively","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"Path to directory (use /workspace/... for mounted files)"},"recursive":{"type":"boolean","description":"Whether to index subdirectories","default":true},"context":{"type":"string","description":"Optional context name"}},"required":["path"]}},{"name":"query","description":"Search code memory using semantic search. Ask natural language questions about code.","inputSchema":{"type":"object","properties":{"query":{"type":"string","description":"Natural language question (e.g., 'How do we handle errors?')"},"context":{"type":"string","description":"Optional context to search within"},"limit":{"type":"number","description":"Maximum results","default":5},"minimumScore":{"type":"number","description":"Minimum similarity score 0-1","default":0.5}},"required":["query"]}},{"name":"search","description":"Search code memory using semantic search (alias for query). Ask natural language questions about code.","inputSchema":{"type":"object","properties":{"query":{"type":"string","description":"Natural language question (e.g., 'How do we handle errors?')"},"context":{"type":"string","description":"Optional context to search within"},"limit":{"type":"number","description":"Maximum results","default":5},"minimumScore":{"type":"number","description":"Minimum similarity score 0-1","default":0.5}},"required":["query"]}},{"name":"reindex","description":"Reindex code to update memory after changes. Detects new, modified, and deleted files.","inputSchema":{"type":"object","properties":{"path":{"type":"string","description":"Path to directory to reindex"},"context":{"type":"string","description":"Context name"},"removeStale":{"type":"boolean","description":"Remove deleted files from memory","default":true}},"required":["path"]}},{"name":"impact_analysis","description":"Analyze what code would be impacted if a class changes","inputSchema":{"type":"object","properties":{"className":{"type":"string","description":"Fully qualified class name"}},"required":["className"]}},{"name":"dependency_chain","description":"Get the dependency chain for a class","inputSchema":{"type":"object","properties":{"className":{"type":"string","description":"Fully qualified class name"},"maxDepth":{"type":"number","description":"Maximum depth","default":5}},"required":["className"]}},{"name":"find_circular_dependencies","description":"Find circular dependencies in code","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Optional context to search within"}}}},{"name":"smartsearch","description":"Intelligent search that auto-detects whether to use graph-first (for structural queries) or semantic-first (for conceptual queries) strategy. Returns enriched results with relationships and scores.","inputSchema":{"type":"object","properties":{"query":{"type":"string","description":"Search query (e.g., 'classes that implement IService' or 'how is authentication handled?')"},"context":{"type":"string","description":"Optional context to search within"},"limit":{"type":"number","description":"Maximum results per page","default":20},"offset":{"type":"number","description":"Offset for pagination","default":0},"includeRelationships":{"type":"boolean","description":"Include relationship data","default":true},"relationshipDepth":{"type":"number","description":"Max relationship depth","default":2}},"required":["query"]}},{"name":"add_todo","description":"Add a TODO item to track technical debt, bugs, or improvements","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context"},"title":{"type":"string","description":"TODO title"},"description":{"type":"string","description":"Detailed description"},"priority":{"type":"string","description":"Priority: Low, Medium, High, Critical","default":"Medium"},"filePath":{"type":"string","description":"Optional file path"},"lineNumber":{"type":"number","description":"Optional line number"},"assignedTo":{"type":"string","description":"Optional assignee email"}},"required":["context","title"]}},{"name":"search_todos","description":"Search and filter TODO items","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Filter by context"},"status":{"type":"string","description":"Filter by status: Pending, InProgress, Completed, Cancelled"},"priority":{"type":"string","description":"Filter by priority: Low, Medium, High, Critical"},"assignedTo":{"type":"string","description":"Filter by assignee"}}}},{"name":"update_todo_status","description":"Update the status of a TODO item","inputSchema":{"type":"object","properties":{"todoId":{"type":"string","description":"TODO ID"},"status":{"type":"string","description":"New status: Pending, InProgress, Completed, Cancelled"}},"required":["todoId","status"]}},{"name":"create_plan","description":"Create a development plan with tasks and dependencies","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context"},"name":{"type":"string","description":"Plan name"},"description":{"type":"string","description":"Plan description"},"tasks":{"type":"array","description":"Array of tasks","items":{"type":"object","properties":{"title":{"type":"string"},"description":{"type":"string"},"orderIndex":{"type":"number"}}}}},"required":["context","name","tasks"]}},{"name":"get_plan_status","description":"Get the status and progress of a development plan","inputSchema":{"type":"object","properties":{"planId":{"type":"string","description":"Plan ID"}},"required":["planId"]}},{"name":"update_task_status","description":"Update the status of a task in a plan","inputSchema":{"type":"object","properties":{"planId":{"type":"string","description":"Plan ID"},"taskId":{"type":"string","description":"Task ID"},"status":{"type":"string","description":"New status: Pending, InProgress, Blocked, Completed, Cancelled"}},"required":["planId","taskId","status"]}},{"name":"complete_plan","description":"Mark a development plan as completed","inputSchema":{"type":"object","properties":{"planId":{"type":"string","description":"Plan ID"}},"required":["planId"]}},{"name":"search_plans","description":"Search and filter development plans","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Filter by context"},"status":{"type":"string","description":"Filter by status: Draft, Active, Completed, Cancelled, OnHold"}}}},{"name":"validate_task","description":"Validate a task against its rules before completion. Checks for required tests, files, code quality, etc. Can auto-fix validation failures if enabled.","inputSchema":{"type":"object","properties":{"planId":{"type":"string","description":"Plan ID"},"taskId":{"type":"string","description":"Task ID to validate"},"autoFix":{"type":"boolean","description":"Automatically fix validation failures (e.g., create missing tests)"}},"required":["planId","taskId"]}},{"name":"search_patterns","description":"Search for code patterns (caching, retry logic, validation, etc.) using semantic search. Returns detected patterns with confidence scores and Azure best practice links.","inputSchema":{"type":"object","properties":{"query":{"type":"string","description":"Pattern search query (e.g., 'caching patterns', 'retry logic', 'validation')"},"context":{"type":"string","description":"Optional context to search within"},"limit":{"type":"number","description":"Maximum results","default":20}},"required":["query"]}},{"name":"validate_best_practices","description":"Validate a project against Azure best practices. Returns compliance score, which practices are implemented, and which are missing with recommendations.","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context to validate"},"bestPractices":{"type":"array","description":"Specific practices to check (optional, defaults to all 21 practices)","items":{"type":"string"}},"includeExamples":{"type":"boolean","description":"Include code examples in results","default":true},"maxExamplesPerPractice":{"type":"number","description":"Maximum examples per practice","default":5}},"required":["context"]}},{"name":"get_recommendations","description":"Analyze a project and get prioritized recommendations for missing or weak patterns. Returns health score and actionable recommendations with code examples.","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context to analyze"},"categories":{"type":"array","description":"Focus on specific categories (optional)","items":{"type":"string"}},"includeLowPriority":{"type":"boolean","description":"Include low-priority recommendations","default":false},"maxRecommendations":{"type":"number","description":"Maximum recommendations to return","default":10}},"required":["context"]}},{"name":"get_available_best_practices","description":"Get list of all available Azure best practices that can be validated.","inputSchema":{"type":"object","properties":{}}},{"name":"validate_pattern_quality","description":"Deep validation of a specific pattern's implementation quality. Returns quality score (1-10), grade (A-F), issues found, and auto-fix code if available.","inputSchema":{"type":"object","properties":{"pattern_id":{"type":"string","description":"Pattern ID to validate"},"context":{"type":"string","description":"Project context (optional)"},"include_auto_fix":{"type":"boolean","description":"Include auto-fix code","default":true},"min_severity":{"type":"string","description":"Minimum severity to report (low|medium|high|critical)","default":"low"}},"required":["pattern_id"]}},{"name":"find_anti_patterns","description":"Find all anti-patterns and badly implemented patterns in a project. Returns patterns with issues, security vulnerabilities, and overall security score.","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context to search"},"min_severity":{"type":"string","description":"Minimum severity (low|medium|high|critical)","default":"medium"},"include_legacy":{"type":"boolean","description":"Include legacy/deprecated patterns","default":true}},"required":["context"]}},{"name":"validate_security","description":"Security audit of detected patterns. Returns overall security score, vulnerabilities found, and remediation steps.","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context to validate"},"pattern_types":{"type":"array","description":"Specific pattern types to check (optional)","items":{"type":"string"}}},"required":["context"]}},{"name":"get_migration_path","description":"Get step-by-step migration path for legacy/deprecated patterns. Returns detailed migration instructions, code examples, and effort estimate.","inputSchema":{"type":"object","properties":{"pattern_id":{"type":"string","description":"Pattern ID to get migration path for"},"include_code_example":{"type":"boolean","description":"Include before/after code example","default":true}},"required":["pattern_id"]}},{"name":"validate_project","description":"Comprehensive project validation. Returns overall quality/security scores, all pattern validations, vulnerabilities, legacy patterns, and top recommendations.","inputSchema":{"type":"object","properties":{"context":{"type":"string","description":"Project context to validate"}},"required":["context"]}},{"name":"analyze_code_complexity","description":"Analyze code complexity metrics (cyclomatic, cognitive, LOC, nesting, code smells) for a file or specific method. Returns detailed complexity scores with grades and recommendations.","inputSchema":{"type":"object","properties":{"filePath":{"type":"string","description":"Path to the file to analyze"},"methodName":{"type":"string","description":"Optional: specific method name to analyze (if omitted, analyzes all methods in file)"}},"required":["filePath"]}},{"name":"register_workspace","description":"Register a workspace directory for file watching (auto-reindex). Called automatically by wrapper on startup.","inputSchema":{"type":"object","properties":{"workspacePath":{"type":"string","description":"Full path to workspace directory"},"context":{"type":"string","description":"Context name for this workspace"}},"required":["workspacePath","context"]}},{"name":"unregister_workspace","description":"Unregister a workspace directory from file watching. Called automatically by wrapper on shutdown.","inputSchema":{"type":"object","properties":{"workspacePath":{"type":"string","description":"Full path to workspace directory"}},"required":["workspacePath"]}}]}}
